{% extends "layout.html" %}

{% block title %}Pomiary{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/measurements.css') }}">
{% endblock %}

{% block content %}
<div class="measurements-compact">
    <h1 class="compact-title">Nowy pomiar</h1>
    
    <form id="measurement-form" class="compact-form">
        <div class="compact-grid">
            <div class="compact-input">
                <label for="waist">Talia (cm)</label>
                <input type="number" step="0.1" id="waist" name="waist" required placeholder="np. 80.5">
                <div class="error-message" id="waist-error"></div>
            </div>
            
            <div class="compact-input">
                <label for="hips">Biodra (cm)</label>
                <input type="number" step="0.1" id="hips" name="hips" required placeholder="np. 100.0">
                <div class="error-message" id="hips-error"></div>
            </div>
            
            <div class="compact-input">
                <label for="chest">Klatka (cm)</label>
                <input type="number" step="0.1" id="chest" name="chest" required placeholder="np. 95.0">
                <div class="error-message" id="chest-error"></div>
            </div>
            
            <div class="compact-input">
                <label for="thigh">Udo (cm)</label>
                <input type="number" step="0.1" id="thigh" name="thigh" required placeholder="np. 55.0">
                <div class="error-message" id="thigh-error"></div>
            </div>
            
            <div class="compact-input">
                <label for="calf">Łydka (cm)</label>
                <input type="number" step="0.1" id="calf" name="calf" required placeholder="np. 35.5">
                <div class="error-message" id="calf-error"></div>
            </div>
            
            <div class="compact-input">
                <label for="arm">Ramię (cm)</label>
                <input type="number" step="0.1" id="arm" name="arm" required placeholder="np. 30.0">
                <div class="error-message" id="arm-error"></div>
            </div>
            
            <div class="compact-input">
                <label for="beltline">Pas (cm)</label>
                <input type="number" step="0.1" id="beltline" name="beltline" required placeholder="np. 85.0">
                <div class="error-message" id="beltline-error"></div>
            </div>
        </div>
        
        <button type="submit" class="compact-btn">
            <span class="btn-text">Zapisz pomiary</span>
            <span class="loading-spinner" hidden>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2V6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <path d="M12 18V22" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <path d="M4.93 4.93L7.76 7.76" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <path d="M16.24 16.24L19.07 19.07" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <path d="M2 12H6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <path d="M18 12H22" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <path d="M4.93 19.07L7.76 16.24" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <path d="M16.24 7.76L19.07 4.93" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
            </span>
        </button>
    </form>
    
    <div class="compact-history">
        <h3>Ostatni pomiar</h3>
        <div id="last-measurement" class="last-measurement">
            <div class="loading-message">Ładowanie danych...</div>
        </div>
        <a href="/wszystkie-pomiary" class="history-link">Zobacz wszystkie pomiary →</a>
    </div>
</div>

<div class="measurement-instructions">
    <h3>Instrukcja wykonywania pomiarów</h3>
    <table>
        <thead>
            <tr>
                <th>Miejsce pomiaru</th>
                <th>Instrukcja</th>
            </tr>
        </thead>
        <tbody>
            <tr><td>Pas</td><td>1 cm pod pępkiem</td></tr>
            <tr><td>Talia</td><td>Najwęższe miejsce, wcięcie</td></tr>
            <tr><td>Biodra</td><td>Najszersze miejsce na pośladkach</td></tr>
            <tr><td>Klatka piersiowa</td><td>W okolicy sutków, stojąc luźno</td></tr>
            <tr><td>Udo</td><td>Najszersze miejsce na udzie</td></tr>
            <tr><td>Łydka</td><td>Najszersze miejsce na łydce</td></tr>
            <tr><td>Ramię</td><td>Najszersze miejsce (biceps), napięte</td></tr>
        </tbody>
    </table>
</div>

<div id="notifications-container"></div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/measurements-compact.js') }}"></script>
{% endblock %}
